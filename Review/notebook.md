# DSD复习笔记
## Chap2 Verilog 基本概念
* 模块的结构
```verilog
module 模块名(端口列表/端口声明列表);
    端口声明；
    参数声明；
    wire, reg ... 变量声明；
    assign [#delay] LEFT=RIGHT；
    initial, always ... 行为语句；
    低层模块实例语句；
    任务和函数；
endmodule
```
* 利用层次命名引用对象
* 模块内并发执行的语句：
  * assign, 每条连续赋值语句的执行顺序依赖于发生在变量a和b上的事件，**assign不要忘记写！** 多个可以共用assign用逗号连接不过最好分开写
  * always，initial只能用于建模和仿真，**只有reg类型可以在initial/always中被赋值而wire不可以**，**所有initial/always语句在0时刻并发执行**，**顺序过程的延迟时间是累加的**
  * 结构方式：门原语，用户定义原语UDP，模块实例
* 时间：
  * #2指两个时间单位
  * `timescale 1ns/100ps，定义延时单位为1ns，精度为100ps(1ps=10^(-12)s), #2.24表示2.2ns
* 模块内input和模块外output，只能用net类型，inout在模块内外都只能用net
- [ ] 端口位宽匹配, ppt-P26，更高位补零？是否有补1的情况？
- [ ] 4位行波进位计数器，用到了T触发器，D触发器，ppt-P30
  
## Chap3 Verilog语言基础
* 标识符：第一个字母必须是字母或者下划线，区分大小写，不能是关键字
* 基本值：x,z不区分大小写，0x1z和0X1Z相同，**wire默认=z，reg默认=x**
* 常量：整数，实数，字符串
* 整数表示法：十进制数格式，或基数格式：
  * [size]'[s/S][base][value],
  * d/D-10, b/B-2, o/O-8, h/H-16，缺省为10进制，
  * 值x/z以及十六进制中a-f不区分大小写，
  * 数值部分不能为负，4'd-2(x)
  * 8'h2A，8'和h之间不能有空格
  * 位宽不能使用表达式‘=
  * 补最高位：4'bX0=4'bxxx0, 4'hZ=4'bzzzz
  * 整数中？可以替代z
  * 下划线，不能作为首字符，不能出现在位宽和进制处，8’b_0101_1100(x)
  * 默认位宽和机器有关，10, 'bx
* 实数
  * 6.(x), 小数点两侧必须有一位数字
  * 科学计数法
* 字符串
  * 双引号
  * 不能多行书写
  * 每个字母用8位ASCII值表示‘=
* 参数parameter表示常量，可以重载,表达式右边必须是常数表达式，只能是数字和已经定义过的参数，用于定义延迟时间和变量宽度
```verilog
comb #(.N(8)) m_comb(...);
```
* 局部参数localparam，值不能重载修改，状态机的状态编码
* tri，线网类型，多个驱动源
```verilog
tri y;
assign y=a&b;
assign y=a^b;
// a&b=01x, a^b=11z,->y=x1x
//0-0=0,1-1=1,0-z=0,1-z=1,z-z=z,ow=x
```
* reg
  * 变量的值被解释为无符号数，负数以二进制补码保存
  ```verilog
  reg [3:0] tag;
  tag=-2; //保存的是4'd14=4'b1110, -2=1010->1101->1110, 取反时首位为1不变
  ```
  * 声明为有符号类型变量
  ```verilog
  reg [4:0] x;
  reg [4:0] y;
  initial begin
   x=5;
   $display("x=%5b",x); //x=00101
   y=-x;
   $display("y=%5b",y) //y=11011, 补码，00101->11010->11011
   $display("y=%d",y) //y=27, 默认解释为无符号整数
  end 
  ```
